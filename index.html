<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8">
  <title>Checklist Schimb</title>
  <style>
    .step { display: none; }
    .step.active { display: block; }
  </style>
</head>
<body>

  <form id="checklistForm">
    <div class="step active">
      <label>1. Au rămas Production Orders deschise?</label><br>
      <input type="radio" name="po_deschise" value="Da" required> Da<br>
      <input type="radio" name="po_deschise" value="Nu"> Nu<br>
    </div>

    <div class="step">
      <label>2. 5S este OK?</label><br>
      <input type="radio" name="5s_ok" value="Da" required> Da<br>
      <input type="radio" name="5s_ok" value="Nu"> Nu<br>
    </div>

    <div class="step">
      <label>3. Sunt echipamentele în stare bună de funcționare?</label><br>
      <input type="radio" name="echipamente_ok" value="Da" required> Da<br>
      <input type="radio" name="echipamente_ok" value="Nu"> Nu<br>
    </div>

    <div class="step">
      <label>4. Observații:</label><br>
      <textarea name="observatii" rows="4" cols="40"></textarea><br>
    </div>

    <button type="button" id="nextBtn">Următorul</button>
    <button type="submit" style="display: none;" id="submitBtn">Trimite</button>
  </form>

  <script>
    const steps = document.querySelectorAll(".step");
    let currentStep = 0;

    const nextBtn = document.getElementById("nextBtn");
    const submitBtn = document.getElementById("submitBtn");

    nextBtn.addEventListener("click", () => {
      if (!steps[currentStep].querySelector("input:checked, textarea")) {
        alert("Te rog răspunde la întrebare.");
        return;
      }

      steps[currentStep].classList.remove("active");
      currentStep++;

      if (currentStep < steps.length) {
        steps[currentStep].classList.add("active");
        if (currentStep === steps.length - 1) {
          nextBtn.style.display = "none";
          submitBtn.style.display = "inline";
        }
      }
    });

    document.getElementById("checklistForm").onsubmit = async (e) => {
      e.preventDefault();
      const formData = new FormData(e.target);

     const response = await fetch('https://script.google.com/macros/s/AKfycbw7CxNWQwAd4dlgqWT03oVGen9wfktgwML67yMYv2Lqmobrt7ys3Qcf8_hdE1tK2a1M/exec', {
                method: 'POST',
                body: formData
            });

      const data = await response.json();
      alert(data.result);
      window.location.reload(); // opțional: resetare după trimitere
    };
  </script>

</body>
</html>
